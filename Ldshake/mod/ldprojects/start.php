<?php
/*********************************************************************************
 * LdShake is a platform for the social sharing and co-edition of learning designs
 * Copyright (C) 2009-2012, Universitat Pompeu Fabra, Barcelona.
 *
 * (Contributors, alpha. order) Abenia, P., Carralero, M.A., Chacón, J., Hernández-Leo, D., Moreno, P.
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Affero General Public License version 3 as published by the
 * Free Software Foundation with the addition of the following permission added
 * to Section 15 as permitted in Section 7(a): FOR ANY PART OF THE COVERED WORK
 * IN WHICH THE COPYRIGHT IS OWNED BY Universitat Pompeu Fabra (UPF), Barcelona,
 * UPF DISCLAIMS THE WARRANTY OF NON INFRINGEMENT OF THIRD PARTY RIGHTS.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License along with
 * this program; if not, see http://www.gnu.org/licenses.
 *
 * You can contact the Interactive Technologies Group (GTI), Universitat Pompeu Fabra, Barcelona.
 * headquarters at c/Roc Boronat 138, Barcelona, or at email address davinia.hernandez@upf.edu
 *
 * The interactive user interfaces in modified source and object code versions
 * of this program must display Appropriate Legal Notices, as required under
 * Section 5 of the GNU Affero General Public License version 3.
 *
 * In accordance with Section 7(b) of the GNU Affero General Public License version 3,
 * these Appropriate Legal Notices must retain the display of the "Powered by
 * LdShake" logo with a link to the website http://ldshake.upf.edu.
 * If the display of the logo is not reasonably feasible for
 * technical reasons, the Appropriate Legal Notices must display the words
 * "Powered by LdShake" with the link to the website http://ldshake.upf.edu.
 ********************************************************************************/
/**
 * 
 * Ldprojects controller
 */


function ldprojects_init()
{	
	global $CONFIG;

	//Our css stuff
	extend_view('css','ldprojects/css');
	
	//We want the /ldprojects/whatever urls to be ours
	register_page_handler('ldprojects','ldprojects_page_handler');

	//LdShakers actions:
	//register_action("ldprojects/addgroup", false, $CONFIG->pluginspath . "ldprojects/actions/ldprojects/addgroup.php");

    //Adding our JS to the view
    extend_view('page_elements/jsarea', 'ldprojects/js');

}

register_elgg_event_handler('init','system','ldprojects_init');

register_plugin_hook('permissions_check', 'group', 'ldprojects_write_permission_check');

function ldprojects_write_permission_check($hook, $entity_type, $returnvalue, $params)
{
    $entity = $params['entity'];
    if($entity->type == 'group') {
        if(isadminloggedin())
            return true;

        if($entity->owner_guid == get_loggedin_userid())
            return true;
    }

}

function ldprojects_page_handler ($page)
{
	 //Nothing here will be exposed to non-logged users, so go away!
	gatekeeper();

	//Special case: my lds's url is short: doesn't have an explicit section, so we add it automatically
	if ($page[0] == '')
		array_unshift($page, 'main');

	//Sub_controller dispatcher
	if (function_exists("ldprojects_exec_{$page[0]}"))
	{
		set_context("ldprojects_exec_{$page[0]}");
		call_user_func("ldprojects_exec_{$page[0]}", $page);
	}
	else
		ldprojects_exec_404();
}

function ldprojects_exec_main ($params)
{

}


function ldprojects_exec_new ($params)
{
    $vars["ldproject"]="new Array()";
    $vars["ldsToBeListed"]= <<<HTML
[{"lds":{"guid":5408,"subtype":"21","toolName":"Persona Card", "subtype_string":"LdS","editor_type":"webcollagerest","title":"WebCollage (5si)","owner_guid":637,"time_created":1397557458,"time_updated":1397557458,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557458,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5399,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Pattern (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557457,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5401,"subtype":"21","<subtype_string></subtype_string>":"LdS","editor_type":"cld","title":"CompendiumLD (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557457,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5405,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Heuristic Evaluation (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557458,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"1397557457","username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5393,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (5si)","owner_guid":637,"time_created":1397557444,"time_updated":1397557444,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557444,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5387,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (g3)","owner_guid":637,"time_created":1397471356,"time_updated":1397471356,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397471356,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5381,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (op3)","owner_guid":637,"time_created":1397470585,"time_updated":1397470585,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397470585,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5375,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (op1)","owner_guid":637,"time_created":1397469382,"time_updated":1397469382,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397469382,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5369,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"new date","owner_guid":637,"time_created":1396344691,"time_updated":1396344692,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1396344691,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":5341,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"c7","owner_guid":637,"time_created":1395655039,"time_updated":1395739503,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1395655071,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5014,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (project1i)","owner_guid":637,"time_created":1394734271,"time_updated":1394734271,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734271,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5019,"subtype":"21","subtype_string":"LdS","editor_type":"cadmos","title":"CADMOS (project1i)","owner_guid":637,"time_created":1394734271,"time_updated":1394734271,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734271,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4986,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Narrative (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4988,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Factors and Concerns (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4991,"subtype":"21","subtype_string":"LdS","editor_type":"cld","title":"CompendiumLD (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4996,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"Image (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5001,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Heuristic Evaluation (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5004,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Persona Card (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5007,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"CourseMap (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5009,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"WebCollage (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4983,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Pattern (project1i)","owner_guid":637,"time_created":1394734268,"time_updated":1394734268,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734268,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4954,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"nogoogle","owner_guid":637,"time_created":1393852326,"time_updated":1393930252,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1393930252,"num_contributions":3,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3674,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Example peer review activity design - OEB 2013 Metis Workshop","owner_guid":919,"time_created":1385467406,"time_updated":1386155430,"external_editor":"1","tags":["OEB13","oeb13demo"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"yishay","username":"yish"},"last_contributor":{"name":"yishay","username":"yish"},"last_contribution_at":1386155429,"num_contributions":5,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":6,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":3703,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"ffsave","owner_guid":637,"time_created":1385504936,"time_updated":1385505115,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385505071,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3686,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"brs3","owner_guid":637,"time_created":1385468112,"time_updated":1385469917,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385468112,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3683,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"another","owner_guid":637,"time_created":1385468060,"time_updated":1385468060,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385468060,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3679,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"rem","owner_guid":637,"time_created":1385467541,"time_updated":1385467544,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385467541,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3429,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"test24_5","owner_guid":637,"time_created":1382525742,"time_updated":1382525743,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1382525742,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2714,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"My first LdS (ILDE)","owner_guid":670,"time_created":1376656228,"time_updated":1382025453,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Davinia","username":"davinia"},"last_contributor":{"name":"Jonathan","username":"jonathanUPF"},"last_contribution_at":1382025453,"num_contributions":15,"num_comments":0,"num_documents":1,"num_viewers":-1,"num_editors":6,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3015,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"enter collage","owner_guid":637,"time_created":1380628430,"time_updated":1380628430,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628430,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3012,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"my discussion","owner_guid":637,"time_created":1380628397,"time_updated":1380628397,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628397,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3007,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"gyu","owner_guid":637,"time_created":1380628282,"time_updated":1380628282,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628282,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3002,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic cp2","owner_guid":637,"time_created":1380627943,"time_updated":1380627943,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380627943,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2999,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"my br","owner_guid":637,"time_created":1380627309,"time_updated":1380627330,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380627309,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2816,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"retyn","owner_guid":637,"time_created":1378365507,"time_updated":1378365531,"external_editor":"1","tags":["flower5"],"discipline":["tough2"],"pedagogical_approach":["goalkeeper4"]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1378365507,"num_contributions":1,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2790,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"save collage","owner_guid":637,"time_created":1377767021,"time_updated":1377767025,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377767021,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2786,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"br2","owner_guid":637,"time_created":1377766681,"time_updated":1396028920,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377766681,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":1,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2781,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"sub impl","owner_guid":637,"time_created":1377766044,"time_updated":1377766649,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377766649,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2748,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Agora Ld workshop - Heuristic evaluation","owner_guid":652,"time_created":1377591977,"time_updated":1377686804,"external_editor":"0","tags":["pws-agora","heuristic-evaluations"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Luis P.","username":"lprisan"},"last_contributor":{"name":"Jonathan","username":"jonathanUPF"},"last_contribution_at":1377686802,"num_contributions":9,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":1,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2659,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Pablo's brainstorming","owner_guid":637,"time_created":1374654993,"time_updated":1374655344,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1374655345,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2576,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"check time","owner_guid":637,"time_created":1374056866,"time_updated":1374056867,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1374056866,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":1958,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"BCN Meta-Workshop UVa-UPF","owner_guid":1478,"time_created":1372684573,"time_updated":1373964710,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"juan.asensio","username":"juan.asensio"},"last_contributor":{"name":"juan.asensio","username":"juan.asensio"},"last_contribution_at":1373964704,"num_contributions":12,"num_comments":1,"num_documents":2,"num_viewers":0,"num_editors":8,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2555,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"up test","owner_guid":637,"time_created":1373546625,"time_updated":1373546629,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373546625,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2266,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"oglm test","owner_guid":637,"time_created":1373321039,"time_updated":1373321040,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373321039,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":2259,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"BCN asen back","owner_guid":637,"time_created":1373320278,"time_updated":1373320313,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373320278,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2019,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"img 1","owner_guid":637,"time_created":1372760669,"time_updated":1372760670,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1372760669,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":1539,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"oglm exa","owner_guid":637,"time_created":1370509995,"time_updated":1370509996,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1370509995,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":868,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic brains","owner_guid":637,"time_created":1368099998,"time_updated":1369136362,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1369136354,"num_contributions":7,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":838,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Discussion about diverse ICT sectors","owner_guid":670,"time_created":1368095817,"time_updated":1370843218,"external_editor":"1","tags":[],"discipline":["Engineering"],"pedagogical_approach":["Collaborative learning"]},"starter":{"name":"Davinia","username":"davinia"},"last_contributor":{"name":"Davinia","username":"davinia"},"last_contribution_at":1368200109,"num_contributions":3,"num_comments":1,"num_documents":2,"num_viewers":-1,"num_editors":2,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":822,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Untitled LdS","owner_guid":637,"time_created":1367925639,"time_updated":1367925640,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1367925639,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":797,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"relevel","owner_guid":637,"time_created":1367920245,"time_updated":1367920245,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1367920245,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":755,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"redi2","owner_guid":637,"time_created":1366888725,"time_updated":1366888727,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1366888726,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":646,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Untitled LdS","owner_guid":637,"time_created":1365648521,"time_updated":1365648522,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1365648521,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":640,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic t1","owner_guid":637,"time_created":1365587461,"time_updated":1365592058,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1365592058,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":638,"subtype":"21","subtype_string":"LdS","editor_type":null,"title":"My first LdS","owner_guid":637,"time_created":1365069665,"time_updated":1365069665,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1365069665,"num_contributions":0,"num_comments":0,"num_documents":0,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true}]
HTML;
    echo elgg_view('ldprojects/ldsproject_editor',$vars);
}

function ldprojects_exec_edit ($params)
{
    $vars["ldproject"]= <<<HTML
[{"tooltype":"doc","toolName":"Design Pattern","editor_subtype":"design_pattern","left":377.78125,"bottom":184,"top":92,"right":469.78125,"associatedLdS":["doc_design_pattern_0","doc_design_pattern_1"]},{"tooltype":"doc","toolName":"Persona Card","editor_subtype":"PC","left":608.78125,"bottom":187,"top":95,"right":700.78125,"associatedLdS":["doc_PC_0","doc_PC_1","doc_PC_2"]}]
HTML;

    $vars["ldsToBeListed"]= <<<HTML
[{"lds":{"guid":5408,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"WebCollage (5si)","owner_guid":637,"time_created":1397557458,"time_updated":1397557458,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[], "toolName":"Design Pattern"},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557458,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5399,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Pattern (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557457,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5401,"subtype":"21","<subtype_string></subtype_string>":"LdS","editor_type":"cld","title":"CompendiumLD (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557457,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5405,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Heuristic Evaluation (5si)","owner_guid":637,"time_created":1397557457,"time_updated":1397557458,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"1397557457","username":null},"last_contribution_at":1397557457,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5393,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (5si)","owner_guid":637,"time_created":1397557444,"time_updated":1397557444,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397557444,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5387,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (g3)","owner_guid":637,"time_created":1397471356,"time_updated":1397471356,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397471356,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5381,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (op3)","owner_guid":637,"time_created":1397470585,"time_updated":1397470585,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397470585,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5375,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (op1)","owner_guid":637,"time_created":1397469382,"time_updated":1397469382,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1397469382,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5369,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"new date","owner_guid":637,"time_created":1396344691,"time_updated":1396344692,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1396344691,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":5341,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"c7","owner_guid":637,"time_created":1395655039,"time_updated":1395739503,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1395655071,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":5014,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"OpenGLM (project1i)","owner_guid":637,"time_created":1394734271,"time_updated":1394734271,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734271,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5019,"subtype":"21","subtype_string":"LdS","editor_type":"cadmos","title":"CADMOS (project1i)","owner_guid":637,"time_created":1394734271,"time_updated":1394734271,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734271,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4986,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Narrative (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4988,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Factors and Concerns (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4991,"subtype":"21","subtype_string":"LdS","editor_type":"cld","title":"CompendiumLD (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4996,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"Image (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5001,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Heuristic Evaluation (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5004,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Persona Card (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5007,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"CourseMap (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":5009,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"WebCollage (project1i)","owner_guid":637,"time_created":1394734270,"time_updated":1394734270,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734270,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4983,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Design Pattern (project1i)","owner_guid":637,"time_created":1394734268,"time_updated":1394734268,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1394734268,"num_contributions":0,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":4954,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"nogoogle","owner_guid":637,"time_created":1393852326,"time_updated":1393930252,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1393930252,"num_contributions":3,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3674,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Example peer review activity design - OEB 2013 Metis Workshop","owner_guid":919,"time_created":1385467406,"time_updated":1386155430,"external_editor":"1","tags":["OEB13","oeb13demo"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"yishay","username":"yish"},"last_contributor":{"name":"yishay","username":"yish"},"last_contribution_at":1386155429,"num_contributions":5,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":6,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":3703,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"ffsave","owner_guid":637,"time_created":1385504936,"time_updated":1385505115,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385505071,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3686,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"brs3","owner_guid":637,"time_created":1385468112,"time_updated":1385469917,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385468112,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3683,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"another","owner_guid":637,"time_created":1385468060,"time_updated":1385468060,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385468060,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3679,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"rem","owner_guid":637,"time_created":1385467541,"time_updated":1385467544,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1385467541,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3429,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"test24_5","owner_guid":637,"time_created":1382525742,"time_updated":1382525743,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1382525742,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2714,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"My first LdS (ILDE)","owner_guid":670,"time_created":1376656228,"time_updated":1382025453,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Davinia","username":"davinia"},"last_contributor":{"name":"Jonathan","username":"jonathanUPF"},"last_contribution_at":1382025453,"num_contributions":15,"num_comments":0,"num_documents":1,"num_viewers":-1,"num_editors":6,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3015,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"enter collage","owner_guid":637,"time_created":1380628430,"time_updated":1380628430,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628430,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3012,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"my discussion","owner_guid":637,"time_created":1380628397,"time_updated":1380628397,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628397,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":3007,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"gyu","owner_guid":637,"time_created":1380628282,"time_updated":1380628282,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380628282,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":3002,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic cp2","owner_guid":637,"time_created":1380627943,"time_updated":1380627943,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380627943,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2999,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"my br","owner_guid":637,"time_created":1380627309,"time_updated":1380627330,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1380627309,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2816,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"retyn","owner_guid":637,"time_created":1378365507,"time_updated":1378365531,"external_editor":"1","tags":["flower5"],"discipline":["tough2"],"pedagogical_approach":["goalkeeper4"]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1378365507,"num_contributions":1,"num_comments":0,"num_documents":1,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2790,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"save collage","owner_guid":637,"time_created":1377767021,"time_updated":1377767025,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377767021,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2786,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"br2","owner_guid":637,"time_created":1377766681,"time_updated":1396028920,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377766681,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":1,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2781,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"sub impl","owner_guid":637,"time_created":1377766044,"time_updated":1377766649,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1377766649,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2748,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Agora Ld workshop - Heuristic evaluation","owner_guid":652,"time_created":1377591977,"time_updated":1377686804,"external_editor":"0","tags":["pws-agora","heuristic-evaluations"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Luis P.","username":"lprisan"},"last_contributor":{"name":"Jonathan","username":"jonathanUPF"},"last_contribution_at":1377686802,"num_contributions":9,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":1,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2659,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"Pablo's brainstorming","owner_guid":637,"time_created":1374654993,"time_updated":1374655344,"external_editor":"0","tags":["design pattern"],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1374655345,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":2576,"subtype":"21","subtype_string":"LdS","editor_type":"doc","title":"check time","owner_guid":637,"time_created":1374056866,"time_updated":1374056867,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1374056866,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":1958,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"BCN Meta-Workshop UVa-UPF","owner_guid":1478,"time_created":1372684573,"time_updated":1373964710,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"juan.asensio","username":"juan.asensio"},"last_contributor":{"name":"juan.asensio","username":"juan.asensio"},"last_contribution_at":1373964704,"num_contributions":12,"num_comments":1,"num_documents":2,"num_viewers":0,"num_editors":8,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2555,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"up test","owner_guid":637,"time_created":1373546625,"time_updated":1373546629,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373546625,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2266,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"oglm test","owner_guid":637,"time_created":1373321039,"time_updated":1373321040,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373321039,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":2259,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"BCN asen back","owner_guid":637,"time_created":1373320278,"time_updated":1373320313,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1373320278,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":2019,"subtype":"21","subtype_string":"LdS","editor_type":"image","title":"img 1","owner_guid":637,"time_created":1372760669,"time_updated":1372760670,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1372760669,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":1539,"subtype":"21","subtype_string":"LdS","editor_type":"openglm","title":"oglm exa","owner_guid":637,"time_created":1370509995,"time_updated":1370509996,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1370509995,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":868,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic brains","owner_guid":637,"time_created":1368099998,"time_updated":1369136362,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1369136354,"num_contributions":7,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":false},{"lds":{"guid":838,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Discussion about diverse ICT sectors","owner_guid":670,"time_created":1368095817,"time_updated":1370843218,"external_editor":"1","tags":[],"discipline":["Engineering"],"pedagogical_approach":["Collaborative learning"]},"starter":{"name":"Davinia","username":"davinia"},"last_contributor":{"name":"Davinia","username":"davinia"},"last_contribution_at":1368200109,"num_contributions":3,"num_comments":1,"num_documents":2,"num_viewers":-1,"num_editors":2,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":822,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Untitled LdS","owner_guid":637,"time_created":1367925639,"time_updated":1367925640,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1367925639,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":797,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"relevel","owner_guid":637,"time_created":1367920245,"time_updated":1367920245,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1367920245,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true},{"lds":{"guid":755,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"redi2","owner_guid":637,"time_created":1366888725,"time_updated":1366888727,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1366888726,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":646,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"Untitled LdS","owner_guid":637,"time_created":1365648521,"time_updated":1365648522,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1365648521,"num_contributions":1,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":true},{"lds":{"guid":640,"subtype":"21","subtype_string":"LdS","editor_type":"webcollagerest","title":"wic t1","owner_guid":637,"time_created":1365587461,"time_updated":1365592058,"external_editor":"1","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":"Pablo Abenia","username":"pablo"},"last_contribution_at":1365592058,"num_contributions":2,"num_comments":0,"num_documents":2,"num_viewers":-1,"num_editors":0,"all_can_view":"1","locked":false,"sync":false,"new":false},{"lds":{"guid":638,"subtype":"21","subtype_string":"LdS","editor_type":null,"title":"My first LdS","owner_guid":637,"time_created":1365069665,"time_updated":1365069665,"external_editor":"0","tags":[],"discipline":[],"pedagogical_approach":[]},"starter":{"name":"Pablo Abenia","username":"pablo"},"last_contributor":{"name":null,"username":null},"last_contribution_at":1365069665,"num_contributions":0,"num_comments":0,"num_documents":0,"num_viewers":0,"num_editors":0,"all_can_view":"0","locked":false,"sync":false,"new":true}]
HTML;
    echo elgg_view('ldprojects/ldsproject_editor',$vars);

}

function ldprojects_exec_404 ()
{
	header("HTTP/1.0 404 Not Found");
	page_draw('Not found', $body);
}