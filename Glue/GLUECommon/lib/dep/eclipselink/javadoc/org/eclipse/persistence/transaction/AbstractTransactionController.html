<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0) on Fri Nov 27 12:46:20 EST 2009 -->
<TITLE>
AbstractTransactionController (EclipseLink 2.0.0, build 'v20091127-r5931' API Reference)
</TITLE>

<META NAME="date" CONTENT="2009-11-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractTransactionController (EclipseLink 2.0.0, build 'v20091127-r5931' API Reference)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../serialized-form.html"><FONT CLASS="NavBarFont1"><B>Serialized</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
EclipseLink 2.0.0, build 'v20091127-r5931' API Reference</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/JTASynchronizationListener.html" title="class in org.eclipse.persistence.transaction"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/eclipse/persistence/transaction/AbstractTransactionController.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractTransactionController.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.eclipse.persistence.transaction</FONT>
<BR>
Class AbstractTransactionController</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.eclipse.persistence.transaction.AbstractTransactionController</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../org/eclipse/persistence/transaction/JTATransactionController.html" title="class in org.eclipse.persistence.transaction">JTATransactionController</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractTransactionController</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></DL>
</PRE>

<P>
<p>
 <b>Purpose</b>: Abstract implementation of an ExternalTransactionController.
 <p>
 <b>Description</b>: This class implements the ExternalTransactionController
 interface. Concrete implementations of this class are responsible for performing
 the coordination with the external transaction manager through whatever means
 available to that manager. Different transaction services may do this in slightly
 different ways, but most common ones (JTA and JTS/OTS) will use a synchronization
 interface.
 <p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction"><CODE>AbstractSynchronizationListener</CODE></A>, 
<A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions"><CODE>ExternalTransactionController</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.ThreadLocal</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#activeUnitOfWorkThreadLocal">activeUnitOfWorkThreadLocal</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERF: Cache the active uow in a thread local.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;java.lang.Object,<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#currentlyProcessedListeners">currentlyProcessedListeners</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Non-null only in case sequencing callbacks are used: numSessionsRequiringSequencingCallback > 0</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#listenerFactory">listenerFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates listener instances for synchronization</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#numSessionsRequiringSequencingCallback">numSessionsRequiringSequencingCallback</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;more - the session is a session broker with several members requiring sequencing callbacks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;java.lang.Object,<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#sequencingListeners">sequencingListeners</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Non-null only in case sequencing callbacks are used: numSessionsRequiringSequencingCallback > 0</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.eclipse.persistence.internal.sessions.AbstractSession</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#session">session</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The session this controller is responsible for controlling</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#unitsOfWork">unitsOfWork</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Table of external transaction object keys and unit of work values</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#AbstractTransactionController()">AbstractTransactionController</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return a new controller.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#addUnitOfWork(java.lang.Object, org.eclipse.persistence.internal.sessions.UnitOfWorkImpl)">addUnitOfWork</A></B>(java.lang.Object&nbsp;transactionKey,
              org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;activeUnitOfWork)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Add a UnitOfWork object to the Hashtable keyed on the external transaction object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#beginTransaction_impl()">beginTransaction_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Begin an external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#beginTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">beginTransaction</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Begin an external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#bindToCurrentTransaction(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl, org.eclipse.persistence.internal.sessions.AbstractSession)">bindToCurrentTransaction</A></B>(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;unitOfWork,
                         org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Associate the given unit of work and EclipseLink session with the active external
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#canBeginTransaction_impl(java.lang.Object)">canBeginTransaction_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the status indicates that a transaction can be started.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#canCommitTransaction_impl(java.lang.Object)">canCommitTransaction_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the status indicates that a transaction can be committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#canIssueSQLToDatabase_impl(java.lang.Object)">canIssueSQLToDatabase_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the status indicates that the SQL should be issued to the db.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#canMergeUnitOfWork_impl(java.lang.Object)">canMergeUnitOfWork_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the status indicates that the unit of work should be merged
 into the shared cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#canRollbackTransaction_impl(java.lang.Object)">canRollbackTransaction_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the status indicates that a transaction can be rolled back.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#clearSequencingListeners()">clearSequencingListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Clears sequencing listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#commitTransaction_impl()">commitTransaction_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Commit the external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#commitTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">commitTransaction</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Commit the external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.sequencing.SequencingCallback</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getActiveSequencingCallback(org.eclipse.persistence.sessions.DatabaseSession, org.eclipse.persistence.internal.sequencing.SequencingCallbackFactory)">getActiveSequencingCallback</A></B>(<A HREF="../../../../org/eclipse/persistence/sessions/DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</A>&nbsp;dbSession,
                            org.eclipse.persistence.internal.sequencing.SequencingCallbackFactory&nbsp;sequencingCallbackFactory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Returns sequencingCallback for the current active external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.sessions.UnitOfWorkImpl</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getActiveUnitOfWork()">getActiveUnitOfWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the active unit of work for the current external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getListenerFactory()">getListenerFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Get the factory used to generate synchronization listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.sessions.AbstractSession</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getSession()">getSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the manager's session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransaction_impl()">getTransaction_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the active external transaction for the calling thread, or null if
 none is currently active for this thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransaction()">getTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the active external transaction object, or null if
 none is active.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransactionKey_impl(java.lang.Object)">getTransactionKey_impl</A></B>(java.lang.Object&nbsp;transaction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return a key for the specified external transaction object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransactionKey(java.lang.Object)">getTransactionKey</A></B>(java.lang.Object&nbsp;transaction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return a key for the specified external transaction object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransactionStatus_impl()">getTransactionStatus_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the transaction status.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getTransactionStatus()">getTransactionStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the transaction status.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#getUnitsOfWork()">getUnitsOfWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the hashtable keyed on the external transaction objects with values
 that are the associated units of work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#hasActiveUnitOfWork()">hasActiveUnitOfWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if there is a unit of work associated with the active external
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#initializeSequencingListeners()">initializeSequencingListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Initializes sequencing listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#isRolledBack_impl(java.lang.Object)">isRolledBack_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return true if the transaction is in the rolled back state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#isSequencingCallbackRequired()">isSequencingCallbackRequired</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Indicates whether sequencing callback may be required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#jndiLookup(java.lang.String)">jndiLookup</A></B>(java.lang.String&nbsp;jndiName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUBLIC:
 Look up a given name in JNDI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#logTxStateTrace(org.eclipse.persistence.internal.sessions.AbstractSession, java.lang.String, java.lang.Object)">logTxStateTrace</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session,
                java.lang.String&nbsp;msgInd,
                java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#logTxTrace(org.eclipse.persistence.internal.sessions.AbstractSession, java.lang.String, java.lang.Object[])">logTxTrace</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session,
           java.lang.String&nbsp;msgInd,
           java.lang.Object[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.sessions.UnitOfWorkImpl</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#lookupActiveUnitOfWork()">lookupActiveUnitOfWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the unit of work associated with the active external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.sessions.UnitOfWorkImpl</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#lookupActiveUnitOfWork(java.lang.Object)">lookupActiveUnitOfWork</A></B>(java.lang.Object&nbsp;transaction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Return the unit of work associated with the active external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#markTransactionForRollback_impl()">markTransactionForRollback_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Mark the external transaction for rollback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#markTransactionForRollback()">markTransactionForRollback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Mark the external transaction for rollback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#noTransactionOrRolledBackOrCommited()">noTransactionOrRolledBackOrCommited</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Used the EJB 3.0 to determine if a transaction is in a state where an EntityManager can
 be closed</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#numSessionsRequiringSequencingCallback()">numSessionsRequiringSequencingCallback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Indicates how many sessions require sequencing callbacks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#registerSynchronization_impl(org.eclipse.persistence.transaction.AbstractSynchronizationListener, java.lang.Object)">registerSynchronization_impl</A></B>(<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&nbsp;listener,
                             java.lang.Object&nbsp;txn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Register the specified synchronization listener with the given active
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#registerSynchronizationListener(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl, org.eclipse.persistence.internal.sessions.AbstractSession)">registerSynchronizationListener</A></B>(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;uow,
                                org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Associate the given unit of work and EclipseLink session with the current external
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#removeSequencingListener(java.lang.Object)">removeSequencingListener</A></B>(java.lang.Object&nbsp;transactionKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Clears sequencingCallbacks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#removeUnitOfWork(java.lang.Object)">removeUnitOfWork</A></B>(java.lang.Object&nbsp;transactionKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Remove the unit of work associated with the transaction passed in.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#rollbackTransaction_impl()">rollbackTransaction_impl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Roll back the external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#rollbackTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">rollbackTransaction</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Roll back the external transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#setListenerFactory(org.eclipse.persistence.transaction.SynchronizationListenerFactory)">setListenerFactory</A></B>(<A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A>&nbsp;factory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Set the factory used to generate synchronization listeners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#setSession(org.eclipse.persistence.internal.sessions.AbstractSession)">setSession</A></B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Set the manager's session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#setUnitsOfWork(java.util.Map)">setUnitsOfWork</A></B>(java.util.Map&nbsp;unitsOfWork)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Set the table of transactions to units of work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/persistence/transaction/AbstractTransactionController.html#statusToString_impl(java.lang.Object)">statusToString_impl</A></B>(java.lang.Object&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTERNAL:
 Convert the status to a string for tracing.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="unitsOfWork"><!-- --></A><H3>
unitsOfWork</H3>
<PRE>
protected java.util.Map <B>unitsOfWork</B></PRE>
<DL>
<DD>Table of external transaction object keys and unit of work values
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="session"><!-- --></A><H3>
session</H3>
<PRE>
protected org.eclipse.persistence.internal.sessions.AbstractSession <B>session</B></PRE>
<DL>
<DD>The session this controller is responsible for controlling
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="listenerFactory"><!-- --></A><H3>
listenerFactory</H3>
<PRE>
protected <A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A> <B>listenerFactory</B></PRE>
<DL>
<DD>Generates listener instances for synchronization
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="activeUnitOfWorkThreadLocal"><!-- --></A><H3>
activeUnitOfWorkThreadLocal</H3>
<PRE>
protected java.lang.ThreadLocal <B>activeUnitOfWorkThreadLocal</B></PRE>
<DL>
<DD>PERF: Cache the active uow in a thread local.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sequencingListeners"><!-- --></A><H3>
sequencingListeners</H3>
<PRE>
protected java.util.Map&lt;java.lang.Object,<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&gt; <B>sequencingListeners</B></PRE>
<DL>
<DD>Non-null only in case sequencing callbacks are used: numSessionsRequiringSequencingCallback > 0
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentlyProcessedListeners"><!-- --></A><H3>
currentlyProcessedListeners</H3>
<PRE>
protected java.util.Map&lt;java.lang.Object,<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&gt; <B>currentlyProcessedListeners</B></PRE>
<DL>
<DD>Non-null only in case sequencing callbacks are used: numSessionsRequiringSequencingCallback > 0
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="numSessionsRequiringSequencingCallback"><!-- --></A><H3>
numSessionsRequiringSequencingCallback</H3>
<PRE>
protected int <B>numSessionsRequiringSequencingCallback</B></PRE>
<DL>
<DD>more - the session is a session broker with several members requiring sequencing callbacks.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractTransactionController()"><!-- --></A><H3>
AbstractTransactionController</H3>
<PRE>
public <B>AbstractTransactionController</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return a new controller.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="bindToCurrentTransaction(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl, org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
bindToCurrentTransaction</H3>
<PRE>
public void <B>bindToCurrentTransaction</B>(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;unitOfWork,
                                     org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</PRE>
<DL>
<DD>INTERNAL:
 Associate the given unit of work and EclipseLink session with the active external
 transaction. This may be done by whatever means supported by the transaction
 manager (i.e. through a synchronization protocol).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>unitOfWork</CODE> - The unit of work that is to be bound to the active transaction<DD><CODE>session</CODE> - The session ancestor of the unit of work</DL>
</DD>
</DL>
<HR>

<A NAME="beginTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
beginTransaction</H3>
<PRE>
public void <B>beginTransaction</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</PRE>
<DL>
<DD>INTERNAL:
 Begin an external transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#beginTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">beginTransaction</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The session for which the transaction is being begun.</DL>
</DD>
</DL>
<HR>

<A NAME="commitTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
commitTransaction</H3>
<PRE>
public void <B>commitTransaction</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</PRE>
<DL>
<DD>INTERNAL:
 Commit the external transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#commitTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">commitTransaction</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The session for which the transaction is being committed.</DL>
</DD>
</DL>
<HR>

<A NAME="rollbackTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
rollbackTransaction</H3>
<PRE>
public void <B>rollbackTransaction</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</PRE>
<DL>
<DD>INTERNAL:
 Roll back the external transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#rollbackTransaction(org.eclipse.persistence.internal.sessions.AbstractSession)">rollbackTransaction</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The session for which the transaction is being rolled back.</DL>
</DD>
</DL>
<HR>

<A NAME="markTransactionForRollback()"><!-- --></A><H3>
markTransactionForRollback</H3>
<PRE>
public void <B>markTransactionForRollback</B>()</PRE>
<DL>
<DD>INTERNAL:
 Mark the external transaction for rollback.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#markTransactionForRollback()">markTransactionForRollback</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransaction()"><!-- --></A><H3>
getTransaction</H3>
<PRE>
public java.lang.Object <B>getTransaction</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the active external transaction object, or null if
 none is active. This may be in whatever form the transaction system uses.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionKey(java.lang.Object)"><!-- --></A><H3>
getTransactionKey</H3>
<PRE>
public java.lang.Object <B>getTransactionKey</B>(java.lang.Object&nbsp;transaction)</PRE>
<DL>
<DD>INTERNAL:
 Return a key for the specified external transaction object.
 The key is just something that can be inserted into a hashtable (must support
 hashCode() and equals() methods).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionStatus()"><!-- --></A><H3>
getTransactionStatus</H3>
<PRE>
public java.lang.Object <B>getTransactionStatus</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the transaction status. This may be any type of status or value,
 depending upon the transaction system.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="noTransactionOrRolledBackOrCommited()"><!-- --></A><H3>
noTransactionOrRolledBackOrCommited</H3>
<PRE>
public boolean <B>noTransactionOrRolledBackOrCommited</B>()</PRE>
<DL>
<DD>INTERNAL:
 Used the EJB 3.0 to determine if a transaction is in a state where an EntityManager can
 be closed
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isRolledBack_impl(java.lang.Object)"><!-- --></A><H3>
isRolledBack_impl</H3>
<PRE>
public abstract boolean <B>isRolledBack_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the transaction is in the rolled back state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="hasActiveUnitOfWork()"><!-- --></A><H3>
hasActiveUnitOfWork</H3>
<PRE>
public boolean <B>hasActiveUnitOfWork</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return true if there is a unit of work associated with the active external
 transaction. Return false if no transaction is current, or if no uow has
 been associated with the active transaction yet.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getActiveUnitOfWork()"><!-- --></A><H3>
getActiveUnitOfWork</H3>
<PRE>
public org.eclipse.persistence.internal.sessions.UnitOfWorkImpl <B>getActiveUnitOfWork</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the active unit of work for the current external transaction.
 If no transaction is active then return null. If a transaction is active
 but no unit of work has been bound to it then create and return one.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#getActiveUnitOfWork()">getActiveUnitOfWork</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="lookupActiveUnitOfWork()"><!-- --></A><H3>
lookupActiveUnitOfWork</H3>
<PRE>
public org.eclipse.persistence.internal.sessions.UnitOfWorkImpl <B>lookupActiveUnitOfWork</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the unit of work associated with the active external transaction.
 Return null if no transaction is active, or if no uow has been associated with
 the active transaction yet.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="lookupActiveUnitOfWork(java.lang.Object)"><!-- --></A><H3>
lookupActiveUnitOfWork</H3>
<PRE>
public org.eclipse.persistence.internal.sessions.UnitOfWorkImpl <B>lookupActiveUnitOfWork</B>(java.lang.Object&nbsp;transaction)</PRE>
<DL>
<DD>INTERNAL:
 Return the unit of work associated with the active external transaction.
 Return null if no transaction is active, or if no uow has been associated with
 the active transaction yet.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addUnitOfWork(java.lang.Object, org.eclipse.persistence.internal.sessions.UnitOfWorkImpl)"><!-- --></A><H3>
addUnitOfWork</H3>
<PRE>
public void <B>addUnitOfWork</B>(java.lang.Object&nbsp;transactionKey,
                          org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;activeUnitOfWork)</PRE>
<DL>
<DD>INTERNAL:
 Add a UnitOfWork object to the Hashtable keyed on the external transaction object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeUnitOfWork(java.lang.Object)"><!-- --></A><H3>
removeUnitOfWork</H3>
<PRE>
public void <B>removeUnitOfWork</B>(java.lang.Object&nbsp;transactionKey)</PRE>
<DL>
<DD>INTERNAL:
 Remove the unit of work associated with the transaction passed in.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSession()"><!-- --></A><H3>
getSession</H3>
<PRE>
public org.eclipse.persistence.internal.sessions.AbstractSession <B>getSession</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the manager's session.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#getSession()">getSession</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSession(org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
setSession</H3>
<PRE>
public void <B>setSession</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)</PRE>
<DL>
<DD>INTERNAL:
 Set the manager's session.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#setSession(org.eclipse.persistence.internal.sessions.AbstractSession)">setSession</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUnitsOfWork()"><!-- --></A><H3>
getUnitsOfWork</H3>
<PRE>
public java.util.Map <B>getUnitsOfWork</B>()</PRE>
<DL>
<DD>INTERNAL:
 Return the hashtable keyed on the external transaction objects with values
 that are the associated units of work.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUnitsOfWork(java.util.Map)"><!-- --></A><H3>
setUnitsOfWork</H3>
<PRE>
protected void <B>setUnitsOfWork</B>(java.util.Map&nbsp;unitsOfWork)</PRE>
<DL>
<DD>INTERNAL:
 Set the table of transactions to units of work.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getListenerFactory()"><!-- --></A><H3>
getListenerFactory</H3>
<PRE>
public <A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A> <B>getListenerFactory</B>()</PRE>
<DL>
<DD>INTERNAL:
 Get the factory used to generate synchronization listeners.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setListenerFactory(org.eclipse.persistence.transaction.SynchronizationListenerFactory)"><!-- --></A><H3>
setListenerFactory</H3>
<PRE>
public void <B>setListenerFactory</B>(<A HREF="../../../../org/eclipse/persistence/transaction/SynchronizationListenerFactory.html" title="interface in org.eclipse.persistence.transaction">SynchronizationListenerFactory</A>&nbsp;factory)</PRE>
<DL>
<DD>INTERNAL:
 Set the factory used to generate synchronization listeners. This should be
 set if a listener other than the default one is being used.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerSynchronizationListener(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl, org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
registerSynchronizationListener</H3>
<PRE>
public void <B>registerSynchronizationListener</B>(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl&nbsp;uow,
                                            org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session)
                                     throws <A HREF="../../../../org/eclipse/persistence/exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</A></PRE>
<DL>
<DD>INTERNAL:
 Associate the given unit of work and EclipseLink session with the current external
 transaction. This method is offered only for backwards compatibility.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#registerSynchronizationListener(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl, org.eclipse.persistence.internal.sessions.AbstractSession)">registerSynchronizationListener</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/eclipse/persistence/exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="jndiLookup(java.lang.String)"><!-- --></A><H3>
jndiLookup</H3>
<PRE>
public java.lang.Object <B>jndiLookup</B>(java.lang.String&nbsp;jndiName)</PRE>
<DL>
<DD>PUBLIC:
 Look up a given name in JNDI. This can be used by a subclass or even an
 application to look up transaction artifacts that are required for the
 implementation.
 <p>
 The lookup assumes that it is taking place on the server side, and that the
 InitialContext can be used without requiring any special properties.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>jndiName</CODE> - The name to look up
<DT><B>Returns:</B><DD>The object bound in JNDI to the specified name
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/eclipse/persistence/exceptions/TransactionException.html" title="class in org.eclipse.persistence.exceptions">TransactionException</A></CODE> - Thrown in case of lookup failure</DL>
</DD>
</DL>
<HR>

<A NAME="initializeSequencingListeners()"><!-- --></A><H3>
initializeSequencingListeners</H3>
<PRE>
public void <B>initializeSequencingListeners</B>()</PRE>
<DL>
<DD>INTERNAL:
 Initializes sequencing listeners.
 Always clears sequencing listeners first.
 There are two methods calling this method:
 1. setSession method - this could lead to initialization of sequencing listeners
 only if sequencing already connected (that would happen if setSession is called
 after session.login, which is normally not the case).
 2. in the very end of connecting sequencing,
 after it's determined whether sequencing callbacks (and therefore listeners)
 will be required.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#initializeSequencingListeners()">initializeSequencingListeners</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getActiveSequencingCallback(org.eclipse.persistence.sessions.DatabaseSession, org.eclipse.persistence.internal.sequencing.SequencingCallbackFactory)"><!-- --></A><H3>
getActiveSequencingCallback</H3>
<PRE>
public org.eclipse.persistence.internal.sequencing.SequencingCallback <B>getActiveSequencingCallback</B>(<A HREF="../../../../org/eclipse/persistence/sessions/DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</A>&nbsp;dbSession,
                                                                                                  org.eclipse.persistence.internal.sequencing.SequencingCallbackFactory&nbsp;sequencingCallbackFactory)</PRE>
<DL>
<DD>INTERNAL:
 Returns sequencingCallback for the current active external transaction.
 DatabaseSession is passed for the sake of SessionBroker case.
 This method requires active external transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#getActiveSequencingCallback(org.eclipse.persistence.sessions.DatabaseSession, org.eclipse.persistence.internal.sequencing.SequencingCallbackFactory)">getActiveSequencingCallback</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearSequencingListeners()"><!-- --></A><H3>
clearSequencingListeners</H3>
<PRE>
public void <B>clearSequencingListeners</B>()</PRE>
<DL>
<DD>INTERNAL:
 Clears sequencing listeners.
 Called by initializeSequencingListeners and by sequencing on disconnect.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html#clearSequencingListeners()">clearSequencingListeners</A></CODE> in interface <CODE><A HREF="../../../../org/eclipse/persistence/sessions/ExternalTransactionController.html" title="interface in org.eclipse.persistence.sessions">ExternalTransactionController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isSequencingCallbackRequired()"><!-- --></A><H3>
isSequencingCallbackRequired</H3>
<PRE>
public boolean <B>isSequencingCallbackRequired</B>()</PRE>
<DL>
<DD>INTERNAL:
 Indicates whether sequencing callback may be required.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="numSessionsRequiringSequencingCallback()"><!-- --></A><H3>
numSessionsRequiringSequencingCallback</H3>
<PRE>
public int <B>numSessionsRequiringSequencingCallback</B>()</PRE>
<DL>
<DD>INTERNAL:
 Indicates how many sessions require sequencing callbacks.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeSequencingListener(java.lang.Object)"><!-- --></A><H3>
removeSequencingListener</H3>
<PRE>
public void <B>removeSequencingListener</B>(java.lang.Object&nbsp;transactionKey)</PRE>
<DL>
<DD>INTERNAL:
 Clears sequencingCallbacks.
 Called by initializeSequencingCallbacks and by sequencing on disconnect.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="logTxTrace(org.eclipse.persistence.internal.sessions.AbstractSession, java.lang.String, java.lang.Object[])"><!-- --></A><H3>
logTxTrace</H3>
<PRE>
public void <B>logTxTrace</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session,
                       java.lang.String&nbsp;msgInd,
                       java.lang.Object[]&nbsp;args)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="logTxStateTrace(org.eclipse.persistence.internal.sessions.AbstractSession, java.lang.String, java.lang.Object)"><!-- --></A><H3>
logTxStateTrace</H3>
<PRE>
public void <B>logTxStateTrace</B>(org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;session,
                            java.lang.String&nbsp;msgInd,
                            java.lang.Object&nbsp;status)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerSynchronization_impl(org.eclipse.persistence.transaction.AbstractSynchronizationListener, java.lang.Object)"><!-- --></A><H3>
registerSynchronization_impl</H3>
<PRE>
protected abstract void <B>registerSynchronization_impl</B>(<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction">AbstractSynchronizationListener</A>&nbsp;listener,
                                                     java.lang.Object&nbsp;txn)
                                              throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Register the specified synchronization listener with the given active
 transaction.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - The synchronization listener created for this transaction<DD><CODE>txn</CODE> - The active transaction for which notification is being requested
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransaction_impl()"><!-- --></A><H3>
getTransaction_impl</H3>
<PRE>
protected abstract java.lang.Object <B>getTransaction_impl</B>()
                                                 throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Return the active external transaction for the calling thread, or null if
 none is currently active for this thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The active transaction object, or null if no transaction is active
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionKey_impl(java.lang.Object)"><!-- --></A><H3>
getTransactionKey_impl</H3>
<PRE>
protected abstract java.lang.Object <B>getTransactionKey_impl</B>(java.lang.Object&nbsp;transaction)
                                                    throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Return a key for the specified external transaction object.
 The key is just something that can be inserted into a hashtable (must support
 hashCode() and equals() methods).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transaction</CODE> - The transaction to which the returned key applies (may be null)
<DT><B>Returns:</B><DD>A key for the passed in transaction, or null if no transaction specified
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionStatus_impl()"><!-- --></A><H3>
getTransactionStatus_impl</H3>
<PRE>
protected abstract java.lang.Object <B>getTransactionStatus_impl</B>()
                                                       throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Return the transaction status. This may be any type of status or value,
 depending upon the transaction system.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The current transaction status
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="beginTransaction_impl()"><!-- --></A><H3>
beginTransaction_impl</H3>
<PRE>
protected abstract void <B>beginTransaction_impl</B>()
                                       throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Begin an external transaction. Do this in a way appropriate to the
 transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commitTransaction_impl()"><!-- --></A><H3>
commitTransaction_impl</H3>
<PRE>
protected abstract void <B>commitTransaction_impl</B>()
                                        throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Commit the external transaction. Do this in a way appropriate to the
 transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="rollbackTransaction_impl()"><!-- --></A><H3>
rollbackTransaction_impl</H3>
<PRE>
protected abstract void <B>rollbackTransaction_impl</B>()
                                          throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Roll back the external transaction. Do this in a way appropriate to the
 transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="markTransactionForRollback_impl()"><!-- --></A><H3>
markTransactionForRollback_impl</H3>
<PRE>
protected abstract void <B>markTransactionForRollback_impl</B>()
                                                 throws java.lang.Exception</PRE>
<DL>
<DD>INTERNAL:
 Mark the external transaction for rollback. Do this in a way appropriate to the
 transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="canBeginTransaction_impl(java.lang.Object)"><!-- --></A><H3>
canBeginTransaction_impl</H3>
<PRE>
protected abstract boolean <B>canBeginTransaction_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the status indicates that a transaction can be started. This
 would normally mean that no transaction is currently active.
 The status is interpreted by the transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The current transaction status
<DT><B>Returns:</B><DD>true if the current state allows for a transaction to be started</DL>
</DD>
</DL>
<HR>

<A NAME="canCommitTransaction_impl(java.lang.Object)"><!-- --></A><H3>
canCommitTransaction_impl</H3>
<PRE>
protected abstract boolean <B>canCommitTransaction_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the status indicates that a transaction can be committed. This
 would normally mean that a transaction is currently active.
 The status is interpreted by the transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The current transaction status
<DT><B>Returns:</B><DD>true if the current state allows for a transaction to be committed</DL>
</DD>
</DL>
<HR>

<A NAME="canRollbackTransaction_impl(java.lang.Object)"><!-- --></A><H3>
canRollbackTransaction_impl</H3>
<PRE>
protected abstract boolean <B>canRollbackTransaction_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the status indicates that a transaction can be rolled back. This
 would normally mean that a transaction is currently active.
 The status is interpreted by the transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The current transaction status
<DT><B>Returns:</B><DD>true if the current state allows for a transaction to be rolled back</DL>
</DD>
</DL>
<HR>

<A NAME="canIssueSQLToDatabase_impl(java.lang.Object)"><!-- --></A><H3>
canIssueSQLToDatabase_impl</H3>
<PRE>
protected abstract boolean <B>canIssueSQLToDatabase_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the status indicates that the SQL should be issued to the db.
 This would normally mean that a transaction was active and not being rolled
 back or marked for rollback.
 The status is interpreted by the transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The current transaction status
<DT><B>Returns:</B><DD>true if the current state allows for the SQL to be sent to the database</DL>
</DD>
</DL>
<HR>

<A NAME="canMergeUnitOfWork_impl(java.lang.Object)"><!-- --></A><H3>
canMergeUnitOfWork_impl</H3>
<PRE>
protected abstract boolean <B>canMergeUnitOfWork_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Return true if the status indicates that the unit of work should be merged
 into the shared cache. This would normally mean that the transaction was
 committed successfully.
 The status is interpreted by the transaction subsystem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The current transaction status
<DT><B>Returns:</B><DD>true if the current state dictates that the unit of work should be merged</DL>
</DD>
</DL>
<HR>

<A NAME="statusToString_impl(java.lang.Object)"><!-- --></A><H3>
statusToString_impl</H3>
<PRE>
protected abstract java.lang.String <B>statusToString_impl</B>(java.lang.Object&nbsp;status)</PRE>
<DL>
<DD>INTERNAL:
 Convert the status to a string for tracing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../serialized-form.html"><FONT CLASS="NavBarFont1"><B>Serialized</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
EclipseLink 2.0.0, build 'v20091127-r5931' API Reference</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/AbstractSynchronizationListener.html" title="class in org.eclipse.persistence.transaction"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/eclipse/persistence/transaction/JTASynchronizationListener.html" title="class in org.eclipse.persistence.transaction"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/eclipse/persistence/transaction/AbstractTransactionController.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractTransactionController.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
