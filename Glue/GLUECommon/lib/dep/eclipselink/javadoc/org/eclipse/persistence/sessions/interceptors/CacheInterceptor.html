<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0) on Fri Nov 27 12:46:04 EST 2009 -->
<TITLE>
CacheInterceptor (EclipseLink 2.0.0, build 'v20091127-r5931' API Reference)
</TITLE>

<META NAME="date" CONTENT="2009-11-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CacheInterceptor (EclipseLink 2.0.0, build 'v20091127-r5931' API Reference)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../serialized-form.html"><FONT CLASS="NavBarFont1"><B>Serialized</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
EclipseLink 2.0.0, build 'v20091127-r5931' API Reference</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheInterceptor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.eclipse.persistence.sessions.interceptors</FONT>
<BR>
Class CacheInterceptor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.eclipse.persistence.sessions.interceptors.CacheInterceptor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Cloneable, org.eclipse.persistence.internal.identitymaps.IdentityMap</DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>CacheInterceptor</B><DT>extends java.lang.Object<DT>implements org.eclipse.persistence.internal.identitymaps.IdentityMap</DL>
</PRE>

<P>
<p>
 <b>Purpose</b>: Define a class through which Cache access can be
 intercepted.
 <p>
 <b>Description</b>: EclipseLink makes extensive use of caching
 functionality. This class provides the mechanism for intercepting the cache
 access. Once intercepted applications can allow the process to continue by
 calling the method on the class attribute targetIdentityMap as described in
 the API javadocs or redirect the process entirely. * As with IdentityMaps an
 entire class inheritance heirachy will share the same interceptor.
 <p>
 To implement a CacheInterceptor users should subclass this class implementing
 those methods they wish to intercept.
 <p>
 <b>Configuration</b>: Interceptors may be added to a session by using a
 Session or Descriptor customizer to set the class name of the interceptor on
 the target ClassDescriptor through the method
 setCacheInterceptorClass(Class).
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.eclipse.persistence.internal.sessions.AbstractSession</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#interceptedSession">interceptedSession</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#targetIdentityMap">targetIdentityMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This attribute stores the actual IdentityMap as configured by the user.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#CacheInterceptor(org.eclipse.persistence.internal.identitymaps.IdentityMap, org.eclipse.persistence.internal.sessions.AbstractSession)">CacheInterceptor</A></B>(org.eclipse.persistence.internal.identitymaps.IdentityMap&nbsp;targetIdentityMap,
                 org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;interceptedSession)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireDeferredLock(java.util.Vector)">acquireDeferredLock</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire a deferred lock on the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLock(java.util.Vector, boolean)">acquireLock</A></B>(java.util.Vector&nbsp;primaryKey,
            boolean&nbsp;forMerge)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire an active lock on the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLockNoWait(java.util.Vector, boolean)">acquireLockNoWait</A></B>(java.util.Vector&nbsp;primaryKey,
                  boolean&nbsp;forMerge)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire an active lock on the object, if not already locked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireLockWithWait(java.util.Vector, boolean, int)">acquireLockWithWait</A></B>(java.util.Vector&nbsp;primaryKey,
                    boolean&nbsp;forMerge,
                    int&nbsp;wait)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire an active lock on the object, if not already locked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireReadLockOnCacheKey(java.util.Vector)">acquireReadLockOnCacheKey</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire a read lock on the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#acquireReadLockOnCacheKeyNoWait(java.util.Vector)">acquireReadLockOnCacheKeyNoWait</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquire a read lock on the object, if not already locked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#clone()">clone</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clone the map and all of the CacheKeys.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#collectLocks(java.util.HashMap)">collectLocks</A></B>(java.util.HashMap&nbsp;threadList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add all locked CacheKeys to the map grouped by thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#containsKey(java.util.Vector)">containsKey</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return true if an CacheKey with the primary key is in the map.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors">CacheKeyInterceptor</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#createCacheKeyInterceptor(org.eclipse.persistence.internal.identitymaps.CacheKey)">createCacheKeyInterceptor</A></B>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;wrappedCacheKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#elements()">elements</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow for the cache to be iterated on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#get(java.util.Vector)">get</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the object cached in the identity map or null if it could not be found.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getCacheKey(java.util.Vector)">getCacheKey</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the cache key (with object) for the primary key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getCacheKeyForLock(java.util.Vector)">getCacheKeyForLock</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the cache key (with object) for the primary key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getDescriptor()">getDescriptor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the descriptor that this is the map for.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getDescriptorClass()">getDescriptorClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the class that this is the map for.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getMaxSize()">getMaxSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getSize()">getSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of CacheKeys in the IdentityMap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getSize(java.lang.Class, boolean)">getSize</A></B>(java.lang.Class&nbsp;myClass,
        boolean&nbsp;recurse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of actual objects of type myClass in the IdentityMap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getTargetIdenttyMap()">getTargetIdenttyMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the instance of the IdentityMap that this intercpetor is wrapping.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getWrapper(java.util.Vector)">getWrapper</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the wrapper object from the cache key associated with the given primary key,
 this is used for EJB2.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#getWriteLockValue(java.util.Vector)">getWriteLockValue</A></B>(java.util.Vector&nbsp;primaryKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the write lock value from the cache key associated to the primarykey.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#keys()">keys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow for the CacheKeys to be iterated on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#keys(boolean)">keys</A></B>(boolean&nbsp;checkReadLocks)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow for the CacheKeys to be iterated on. - value should be true
 if readloacks are to be used, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.eclipse.persistence.internal.identitymaps.CacheKey</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#put(java.util.Vector, java.lang.Object, java.lang.Object, long)">put</A></B>(java.util.Vector&nbsp;primaryKey,
    java.lang.Object&nbsp;object,
    java.lang.Object&nbsp;writeLockValue,
    long&nbsp;readTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store the object in the cache at its primary key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#remove(org.eclipse.persistence.internal.identitymaps.CacheKey)">remove</A></B>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;cacheKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the CacheKey from the map.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#remove(java.util.Vector, java.lang.Object)">remove</A></B>(java.util.Vector&nbsp;primaryKey,
       java.lang.Object&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the CacheKey with the primaryKey from the map.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setDescriptor(org.eclipse.persistence.descriptors.ClassDescriptor)">setDescriptor</A></B>(<A HREF="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</A>&nbsp;descriptor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the descriptor that this is the map for.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setWrapper(java.util.Vector, java.lang.Object)">setWrapper</A></B>(java.util.Vector&nbsp;primaryKey,
           java.lang.Object&nbsp;wrapper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the wrapper object in the CacheKey associated with the given primaryKey,
 this is used for EJB2.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#setWriteLockValue(java.util.Vector, java.lang.Object)">setWriteLockValue</A></B>(java.util.Vector&nbsp;primaryKey,
                  java.lang.Object&nbsp;writeLockValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the write lock value of the CacheKey associated with the given primaryKey.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html#updateMaxSize(int)">updateMaxSize</A></B>(int&nbsp;maxSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will be used to update the max cache size, any objects exceeding the max cache size will
 be remove from the cache.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.eclipse.persistence.internal.identitymaps.IdentityMap"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.eclipse.persistence.internal.identitymaps.IdentityMap</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>release</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="targetIdentityMap"><!-- --></A><H3>
targetIdentityMap</H3>
<PRE>
protected org.eclipse.persistence.internal.identitymaps.IdentityMap <B>targetIdentityMap</B></PRE>
<DL>
<DD>This attribute stores the actual IdentityMap as configured by the user.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="interceptedSession"><!-- --></A><H3>
interceptedSession</H3>
<PRE>
protected org.eclipse.persistence.internal.sessions.AbstractSession <B>interceptedSession</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CacheInterceptor(org.eclipse.persistence.internal.identitymaps.IdentityMap, org.eclipse.persistence.internal.sessions.AbstractSession)"><!-- --></A><H3>
CacheInterceptor</H3>
<PRE>
public <B>CacheInterceptor</B>(org.eclipse.persistence.internal.identitymaps.IdentityMap&nbsp;targetIdentityMap,
                        org.eclipse.persistence.internal.sessions.AbstractSession&nbsp;interceptedSession)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="acquireDeferredLock(java.util.Vector)"><!-- --></A><H3>
acquireDeferredLock</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireDeferredLock</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Acquire a deferred lock on the object.
 This is used while reading if the object has relationships without indirection.
 This first thread will get an active lock.
 Other threads will get deferred locks, all threads will wait until all other threads are complete before releasing their locks.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireDeferredLock</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquireLock(java.util.Vector, boolean)"><!-- --></A><H3>
acquireLock</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireLock</B>(java.util.Vector&nbsp;primaryKey,
                                                                          boolean&nbsp;forMerge)</PRE>
<DL>
<DD>Acquire an active lock on the object.
 This is used by reading (when using indirection or no relationships) and by merge.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireLock</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquireLockNoWait(java.util.Vector, boolean)"><!-- --></A><H3>
acquireLockNoWait</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireLockNoWait</B>(java.util.Vector&nbsp;primaryKey,
                                                                                boolean&nbsp;forMerge)</PRE>
<DL>
<DD>Acquire an active lock on the object, if not already locked.
 This is used by merge for missing existing objects.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireLockNoWait</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquireLockWithWait(java.util.Vector, boolean, int)"><!-- --></A><H3>
acquireLockWithWait</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireLockWithWait</B>(java.util.Vector&nbsp;primaryKey,
                                                                                  boolean&nbsp;forMerge,
                                                                                  int&nbsp;wait)</PRE>
<DL>
<DD>Acquire an active lock on the object, if not already locked.
 This is used by merge for missing existing objects.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireLockWithWait</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquireReadLockOnCacheKey(java.util.Vector)"><!-- --></A><H3>
acquireReadLockOnCacheKey</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireReadLockOnCacheKey</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Acquire a read lock on the object.
 This is used by UnitOfWork cloning.
 This will allow multiple users to read the same object but prevent writes to the object while the read lock is held.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireReadLockOnCacheKey</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquireReadLockOnCacheKeyNoWait(java.util.Vector)"><!-- --></A><H3>
acquireReadLockOnCacheKeyNoWait</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>acquireReadLockOnCacheKeyNoWait</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Acquire a read lock on the object, if not already locked.
 This is used by UnitOfWork cloning.
 This will allow multiple users to read the same object but prevent writes to the object while the read lock is held.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>acquireReadLockOnCacheKeyNoWait</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="collectLocks(java.util.HashMap)"><!-- --></A><H3>
collectLocks</H3>
<PRE>
public void <B>collectLocks</B>(java.util.HashMap&nbsp;threadList)</PRE>
<DL>
<DD>Add all locked CacheKeys to the map grouped by thread.
 Used to print all the locks in the identity map.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>collectLocks</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clone()"><!-- --></A><H3>
clone</H3>
<PRE>
public abstract java.lang.Object <B>clone</B>()</PRE>
<DL>
<DD>Clone the map and all of the CacheKeys.
 This is used by UnitOfWork commitAndResumeOnFailure to avoid corrupting the cache during a failed commit.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>clone</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE><DT><B>Overrides:</B><DD><CODE>clone</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="containsKey(java.util.Vector)"><!-- --></A><H3>
containsKey</H3>
<PRE>
public boolean <B>containsKey</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Return true if an CacheKey with the primary key is in the map.
 User API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>containsKey</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>primaryKey</CODE> - is the primary key for the object to search for.</DL>
</DD>
</DL>
<HR>

<A NAME="createCacheKeyInterceptor(org.eclipse.persistence.internal.identitymaps.CacheKey)"><!-- --></A><H3>
createCacheKeyInterceptor</H3>
<PRE>
protected abstract <A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors">CacheKeyInterceptor</A> <B>createCacheKeyInterceptor</B>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;wrappedCacheKey)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="elements()"><!-- --></A><H3>
elements</H3>
<PRE>
public java.util.Enumeration <B>elements</B>()</PRE>
<DL>
<DD>Allow for the cache to be iterated on.  This method is only used during debugging when
 validateCache() has been called to print out the contents of the cache.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>elements</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.util.Vector)"><!-- --></A><H3>
get</H3>
<PRE>
public java.lang.Object <B>get</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Return the object cached in the identity map or null if it could not be found.
 User API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>get</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCacheKey(java.util.Vector)"><!-- --></A><H3>
getCacheKey</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>getCacheKey</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Get the cache key (with object) for the primary key.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getCacheKey</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCacheKeyForLock(java.util.Vector)"><!-- --></A><H3>
getCacheKeyForLock</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>getCacheKeyForLock</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Get the cache key (with object) for the primary key.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getCacheKeyForLock</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDescriptor()"><!-- --></A><H3>
getDescriptor</H3>
<PRE>
public <A HREF="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</A> <B>getDescriptor</B>()</PRE>
<DL>
<DD>Return the descriptor that this is the map for.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getDescriptor</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDescriptorClass()"><!-- --></A><H3>
getDescriptorClass</H3>
<PRE>
public java.lang.Class <B>getDescriptorClass</B>()</PRE>
<DL>
<DD>Return the class that this is the map for.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getDescriptorClass</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMaxSize()"><!-- --></A><H3>
getMaxSize</H3>
<PRE>
public int <B>getMaxSize</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getMaxSize</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The maxSize for the IdentityMap (NOTE: some subclasses may use this differently).</DL>
</DD>
</DL>
<HR>

<A NAME="getSize()"><!-- --></A><H3>
getSize</H3>
<PRE>
public int <B>getSize</B>()</PRE>
<DL>
<DD>Return the number of CacheKeys in the IdentityMap.
 This may contain weak referenced objects that have been garbage collected.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getSize</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSize(java.lang.Class, boolean)"><!-- --></A><H3>
getSize</H3>
<PRE>
public int <B>getSize</B>(java.lang.Class&nbsp;myClass,
                   boolean&nbsp;recurse)</PRE>
<DL>
<DD>Return the number of actual objects of type myClass in the IdentityMap.
 Recurse = true will include subclasses of myClass in the count.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getSize</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTargetIdenttyMap()"><!-- --></A><H3>
getTargetIdenttyMap</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.IdentityMap <B>getTargetIdenttyMap</B>()</PRE>
<DL>
<DD>Return the instance of the IdentityMap that this intercpetor is wrapping.  Any call that
 is to be passed on to the underlying EclipseLink cache should be passed to this IdentityMap.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWrapper(java.util.Vector)"><!-- --></A><H3>
getWrapper</H3>
<PRE>
public java.lang.Object <B>getWrapper</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Get the wrapper object from the cache key associated with the given primary key,
 this is used for EJB2.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getWrapper</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWriteLockValue(java.util.Vector)"><!-- --></A><H3>
getWriteLockValue</H3>
<PRE>
public java.lang.Object <B>getWriteLockValue</B>(java.util.Vector&nbsp;primaryKey)</PRE>
<DL>
<DD>Get the write lock value from the cache key associated to the primarykey.
 User API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getWriteLockValue</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="keys()"><!-- --></A><H3>
keys</H3>
<PRE>
public java.util.Enumeration <B>keys</B>()</PRE>
<DL>
<DD>Allow for the CacheKeys to be iterated on.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>keys</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="keys(boolean)"><!-- --></A><H3>
keys</H3>
<PRE>
public java.util.Enumeration <B>keys</B>(boolean&nbsp;checkReadLocks)</PRE>
<DL>
<DD>Allow for the CacheKeys to be iterated on. - value should be true
 if readloacks are to be used, false otherwise.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>keys</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="put(java.util.Vector, java.lang.Object, java.lang.Object, long)"><!-- --></A><H3>
put</H3>
<PRE>
public org.eclipse.persistence.internal.identitymaps.CacheKey <B>put</B>(java.util.Vector&nbsp;primaryKey,
                                                                  java.lang.Object&nbsp;object,
                                                                  java.lang.Object&nbsp;writeLockValue,
                                                                  long&nbsp;readTime)</PRE>
<DL>
<DD>Store the object in the cache at its primary key.
 This is used by InsertObjectQuery, typically into the UnitOfWork identity map.
 Merge and reads do not use put, but acquireLock.
 Also an advanced (very) user API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>put</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>primaryKey</CODE> - is the primary key for the object.<DD><CODE>object</CODE> - is the domain object to cache.<DD><CODE>writeLockValue</CODE> - is the current write lock value of object, if null the version is ignored.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.util.Vector, java.lang.Object)"><!-- --></A><H3>
remove</H3>
<PRE>
public java.lang.Object <B>remove</B>(java.util.Vector&nbsp;primaryKey,
                               java.lang.Object&nbsp;object)</PRE>
<DL>
<DD>Remove the CacheKey with the primaryKey from the map.
 This is used by DeleteObjectQuery and merge.
 This is also an advanced (very) user API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>remove</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="remove(org.eclipse.persistence.internal.identitymaps.CacheKey)"><!-- --></A><H3>
remove</H3>
<PRE>
public java.lang.Object <B>remove</B>(org.eclipse.persistence.internal.identitymaps.CacheKey&nbsp;cacheKey)</PRE>
<DL>
<DD>Remove the CacheKey from the map.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>remove</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateMaxSize(int)"><!-- --></A><H3>
updateMaxSize</H3>
<PRE>
public void <B>updateMaxSize</B>(int&nbsp;maxSize)</PRE>
<DL>
<DD>This method will be used to update the max cache size, any objects exceeding the max cache size will
 be remove from the cache. Please note that this does not remove the object from the identityMap, except in
 the case of the CacheIdentityMap.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>updateMaxSize</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDescriptor(org.eclipse.persistence.descriptors.ClassDescriptor)"><!-- --></A><H3>
setDescriptor</H3>
<PRE>
public void <B>setDescriptor</B>(<A HREF="../../../../../org/eclipse/persistence/descriptors/ClassDescriptor.html" title="class in org.eclipse.persistence.descriptors">ClassDescriptor</A>&nbsp;descriptor)</PRE>
<DL>
<DD>Set the descriptor that this is the map for.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>setDescriptor</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setWrapper(java.util.Vector, java.lang.Object)"><!-- --></A><H3>
setWrapper</H3>
<PRE>
public void <B>setWrapper</B>(java.util.Vector&nbsp;primaryKey,
                       java.lang.Object&nbsp;wrapper)</PRE>
<DL>
<DD>Update the wrapper object in the CacheKey associated with the given primaryKey,
 this is used for EJB2.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>setWrapper</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setWriteLockValue(java.util.Vector, java.lang.Object)"><!-- --></A><H3>
setWriteLockValue</H3>
<PRE>
public void <B>setWriteLockValue</B>(java.util.Vector&nbsp;primaryKey,
                              java.lang.Object&nbsp;writeLockValue)</PRE>
<DL>
<DD>Update the write lock value of the CacheKey associated with the given primaryKey.
 This is used by UpdateObjectQuery, and is also an advanced (very) user API.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>setWriteLockValue</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>toString</CODE> in interface <CODE>org.eclipse.persistence.internal.identitymaps.IdentityMap</CODE><DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../serialized-form.html"><FONT CLASS="NavBarFont1"><B>Serialized</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
EclipseLink 2.0.0, build 'v20091127-r5931' API Reference</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../org/eclipse/persistence/sessions/interceptors/CacheKeyInterceptor.html" title="class in org.eclipse.persistence.sessions.interceptors"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/eclipse/persistence/sessions/interceptors/CacheInterceptor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheInterceptor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
